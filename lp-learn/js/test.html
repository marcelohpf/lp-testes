<html>
    <head>
        <script type="text/javascript">
            var jstest = {}
            function addh(func,fim, ini){
                jstest[func]= (fim-ini)/1000.0;

            }
            function fib(n){
                if( n==0 || n==1 )
                    return 1;
                return fib(n-1) + fib(n-2);
            }

            function soma( n, i){
                if(i==0)
                    return n;
                return soma(n+1,i-1);
            }
    /*
#def laco():
#    i=1000000
#    while(i!=0):
#        i-=1
#    return i
    */

            function pmatriz(n){
                var x = new Array(n).fill(new Array(n).fill(1)) 
                var y = new Array(n).fill(new Array(n).fill(1))
                var z = new Array(n).fill(new Array(n).fill(0))
                var ini = new Date().getTime();
                for (var i=0; i<n;i++){
                    for (var j=0; j<n; j++){
                        for (var k=0; k<n; k++)
                            z[i][j]+=x[i][k]*y[k][j];
                    }
                }
                var fim = new Date().getTime();
                addh("pmatriz",fim,ini);
            }
            
            function strconcat(n){
                var s="s";
                var ini = new Date().getTime();
                while(n!=0){
                    s+="abcebc";
                    n-=1;
                }
                var fim = new Date().getTime();
                addh("strconcat",fim,ini);
            }
            function strprocess(n){
                var s="";
                var ini = new Date().getTime();
                while(n!=0){
                    s+="trbuhs";
                    s = s.replace("buh","   ");
                    n-=1;
                }
                var fim = new Date().getTime();
                addh("strprocess",fim,ini);
            }
            function lappend(n){
                var l = [];
                var ini = new Date().getTime();
                while(n!=0){
                    l.push(n);
                    n-=1;
                }
                var fim = new Date().getTime();
                addh("lappend",fim,ini);
            }
            function linsert( n){
                var l= [];
                var ini = new Date().getTime();
                while(n!=0){
                    l.unshift(n);
                    n-=1;
                }
                var fim = new Date().getTime();
                addh("linsert",fim,ini);
                return l;
            }
            function lremove(l){
                var le=l.length;
                var ini = new Date().getTime();
                while(le){
                    l.splice(le/2,1);
                    le -= 1;
                }
                console.log(l);
                var fim = new Date().getTime();
                addh("lremove",fim,ini);
            }

            function main(args){
                var fibo = parseInt(args[0]);
                var sm = parseInt(args[1]);
                var mtr = parseInt(args[2]);
                var stg = parseInt(args[3]);
                var lst = parseInt(args[4]);

                var ini = new Date().getTime();
                fib(fibo);
                var fim = new Date().getTime();
                addh("fib",fim,ini);
                ini = new Date().getTime();
                soma(fibo,sm);
                fim = new Date().getTime();
                addh("soma",fim,ini);
                pmatriz(mtr);
                strconcat(stg);
                strprocess(stg);
                lappend(lst);
                var l = linsert(lst);
                lremove(l);
                document.getElementById("result").innerHTML= JSON.stringify(jstest);
            }
        
            
        </script>
    </head>
    <body>
        <div id="result"></div>
    </body>
</html>

